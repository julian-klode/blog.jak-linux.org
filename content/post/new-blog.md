---
title: "The demise of G+ and return to blogging (w/ mastodon integration)"
date: 2018-10-13T23:03:14+02:00
tags:
 - hugo
 - mastodon
 - blog
 - privacy
---
I'm back to blogging, after shutting down my wordpress.com hosted
blog in spring. This time, fully privacy aware, self hosted, and
integrated with mastodon.

Let's talk details: In spring, I shutdown my wordpress.com hosted
blog, due to concerns about GDPR implications with comment hosting
and ads and stuff. I'd like to apologize for using that, back when I
did this (in [2007](/2007/12/20/hello-world/)), it was the easiest way
to get into blogging. Please forgive me for subjecting you to that!

Recently, Google announced the end of Google+. As some of you might
know, I posted a lot of medium-long posts there, rather than doing
blog posts; especially after I disabled the wordpress site.

With the end of Google+, I want to try something new: I'll host longer
pieces on this blog, and post shorter messages on
[@juliank@mastodon.social](https://mastodon.social/@juliank). If you
follow the Mastodon account, you will see toots for each new blog post
as well, linking to the blog post.

## Mastodon integration and privacy

Now comes the interesting part: If you reply to the toot, your reply
will be shown on the blog itself. This works with a tiny bit of JavaScript
that talks to a simple server-side script that finds toots from me
mentioning the blog post, and then replies to that.

This protects your privacy, because mastodon.social does not see which
blog post you are looking at, because it is contacted by the server, not
by you. Rendering avatars requires loading images from mastodon.social's
file server, however - to improve your privacy, all avatars are loaded
with `referrerpolicy='no-referrer'`, so assuming your browser is half-way
sane, it should not be telling mastodon.social which post you visited
either. In fact, the entire domain also sets `Referrer-Policy: no-referrer`
as an http header, so any link you follow will not have a referrer set.

The integration was originally written by [@bjoern@mastodon.social](https://mastodon.social/@bjoern)
-- I have done some moderate improvements to adapt it to my theme,
make it more reusable, and replace and extend the caching done in
a JSON file with a Redis database. 

## Source code
This blog is free software; generated by the [Hugo](https://gohugo.io) snap. All
source code for it is available:

* The blog posts are provided at [github.com/julian-klode/blog.jak-linux.org](https://github.com/julian-klode/blog.jak-linux.org).
  under the terms of the [CC BY-SA 4.0](http://creativecommons.org/licenses/by-sa/4.0/) license.

* The theme is called Ernest, and is a fork of the Hemingway theme. You
  can find it at [github.com/julian-klode/ernest](https://github.com/julian-klode/ernest). It
  is licensed under the MIT license, with server-side scripts under the AGPL,
  and some vendorized parts under different licenses.

(Yes I am aware that hosting the repositories on GitHub is a bit ironic
given the whole focus on privacy and self-hosting).

The theme makes use of Hugo pipes to minify and fingerprint JavaScript,
and vendorizes all dependencies instead of embedding CDN links, to, again,
protect your privacy.

## Future work
I think I want to make the theme dark, to be more friendly to the
eyes. I also might want to make the mastodon integration a bit more
friendly to use. And I want to get rid of jQuery, it's only used for
a handful of calls in the Mastodon integration JavaScript.

If you have any other idea for improvements, feel free to join the conversation in the
mastodon toot, send me an email, or open an issue at the github projects.

## Closing thoughts
I think the end of Google+ will be an interesting time, requring a lot
of people in the open source world to replace one of their main
communication channels with a different approach.

Mastodon and Diaspora are both in the race, and I fear the community
will split or everyone will have two accounts in the end. I personally
think that Mastodon + syndicated blogs provide a good balance: You can
quickly write short posts (up to 500 characters), and you can host long
articles on your own and link to them.

I hope that one day diaspora* and mastodon federate together. If we
end up with one federated network that would be the best outcome.
